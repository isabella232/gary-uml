@startuml

title __Start New Terminal From IDE__\n

box "Gwt"
   participant TerminalTabPresenter
   participant TerminalPane
   participant TerminalList
   participant TerminalSession
   participant EventBus
   participant ClientEvents
end box

box "Session"
   participant SessionConsoleProcessApi
   participant SessionConsoleProcessTable
endbox

[-> TerminalTabPresenter: onNewTerminal

activate TerminalTabPresenter
TerminalTabPresenter ->> TerminalPane ++ : activateTerminal
deactivate TerminalTabPresenter

TerminalPane -> TerminalPane: bringToFront
TerminalPane -> TerminalPane: onSelected

TerminalPane -> TerminalTabPresenter: callback
deactivate TerminalPane

activate TerminalTabPresenter
TerminalTabPresenter -> TerminalPane ++ : createTerminal
deactivate TerminalTabPresenter

TerminalPane -> TerminalList ++ : createNewTerminal
deactivate TerminalPane

create TerminalSession
TerminalList -> TerminalSession: connect
activate TerminalSession
TerminalList -> EventBus: TerminalBusyEvent
deactivate TerminalList

TerminalSession -> SessionConsoleProcessApi: startTerminal
deactivate TerminalSession

@enduml